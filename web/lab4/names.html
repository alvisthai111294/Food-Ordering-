<!DOCTYPE html>

<html>

<head>
    <script type="text/javascript" src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <title>Lab 4</title>

    <script>
        $(document).ready(function () {

            $("#myBtn").click(function () {
                var str1 = $("#myInput1").val();
                var str2 = $("#myInput2").val();
                getNames(str1, str2);
                $("#myBtn").prop('disabled',true);
            })

            async function getNames(fValue, lValue) {
                const response = await fetch(
                    "/reverse/names?first=" + fValue + "&last=" + lValue
                )

                if (response.ok) {
                    let json = await response.json()
                    $('#div').append('<ul id="newList"> </u>');
                    for (const name of json.names) {

                        $('#newList').append('<li>' + name.first + name.last + '</li>')
                    }
                    $('ul li:even').css({ 'background-color': '#FFFF47', 'color': '#E60000' });
                    $('ul li:odd').css({ 'background-color': '#888888', 'color': '#1ABC9C' });
                    $("#myBtn").prop('disabled',false);


                } else {
                    alert("HTTP-Error: " + response.status)
                }
            }
        });



    </script>
    </body>

</head>


<body>



    <input type="text1" id="myInput1" label="First">
    <ul id="myList"></ul>
    <input type="text2" id="myInput2" label="Last" >

    <button type="button" id="myBtn">Submit</button>

    <div id="div"></div>


</html>